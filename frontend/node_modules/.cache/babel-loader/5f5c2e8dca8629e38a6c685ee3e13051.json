{"ast":null,"code":"var _jsxFileName = \"/Users/garvitgupta/Documents/Development/CEN5035-Software-Engineering-Project/frontend/src/components/LoginPage.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { Box, Stack, FormControl, Input, Button, Alert, AlertIcon } from '@chakra-ui/react';\nimport { createLoadingAndErrorSelector } from '../selectors';\nimport { startLogin } from '../actions/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      const {\n        username,\n        password\n      } = this.state;\n      const {\n        startLogin,\n        location,\n        history\n      } = this.props;\n      await startLogin(username, password);\n      const {\n        error\n      } = this.props;\n\n      if (!error) {\n        history.push(location && location.state && location.state.prevPathname || '/');\n      }\n    };\n\n    this.state = {\n      username: '',\n      password: ''\n    };\n  }\n\n  render() {\n    const {\n      username,\n      password\n    } = this.state;\n    const {\n      isLoading,\n      error,\n      location\n    } = this.props;\n    const requireAuth = location && location.state && location.state.requireAuth;\n    return /*#__PURE__*/_jsxDEV(Box, {\n      w: 300,\n      m: \"auto\",\n      verticalAlign: \"center\",\n      position: \"absolute\",\n      top: \"50%\",\n      left: \"45%\",\n      transform: \"translateY(-50%, -50%)\",\n      children: [requireAuth && /*#__PURE__*/_jsxDEV(Alert, {\n        status: \"warning\",\n        mb: 2,\n        children: [/*#__PURE__*/_jsxDEV(AlertIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), requireAuth]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        status: \"error\",\n        mb: 2,\n        children: [/*#__PURE__*/_jsxDEV(AlertIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              value: username,\n              onChange: e => this.setState({\n                username: e.target.value\n              }),\n              id: \"username-input\",\n              variant: \"filled\",\n              type: \"text\",\n              placeholder: \"username\",\n              size: \"md\",\n              isRequired: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              value: password,\n              onChange: e => this.setState({\n                password: e.target.value\n              }),\n              id: \"password-input\",\n              variant: \"filled\",\n              type: \"password\",\n              placeholder: \"password\",\n              size: \"md\",\n              isRequired: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            isLoading: isLoading || null,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst {\n  loadingSelector,\n  errorSelector\n} = createLoadingAndErrorSelector(['LOGIN'], false);\n\nconst mapStateToProps = state => ({\n  isLoading: loadingSelector(state),\n  error: errorSelector(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  startLogin: (username, password) => dispatch(startLogin(username, password))\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LoginPage));","map":{"version":3,"sources":["/Users/garvitgupta/Documents/Development/CEN5035-Software-Engineering-Project/frontend/src/components/LoginPage.js"],"names":["React","connect","withRouter","Box","Stack","FormControl","Input","Button","Alert","AlertIcon","createLoadingAndErrorSelector","startLogin","LoginPage","Component","constructor","props","handleSubmit","e","preventDefault","username","password","state","location","history","error","push","prevPathname","render","isLoading","requireAuth","setState","target","value","loadingSelector","errorSelector","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {\r\n  Box,\r\n  Stack,\r\n  FormControl,\r\n  Input,\r\n  Button,\r\n  Alert,\r\n  AlertIcon,\r\n} from '@chakra-ui/react';\r\nimport { createLoadingAndErrorSelector } from '../selectors';\r\nimport { startLogin } from '../actions/auth';\r\n\r\nclass LoginPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n    };\r\n  }\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { username, password } = this.state;\r\n    const { startLogin, location, history } = this.props;\r\n    await startLogin(username, password);\r\n    const { error } = this.props;\r\n    if (!error) {\r\n      history.push(\r\n        (location && location.state && location.state.prevPathname) || '/'\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { username, password } = this.state;\r\n    const { isLoading, error, location } = this.props;\r\n    const requireAuth =\r\n      location && location.state && location.state.requireAuth;\r\n    return (\r\n      <Box w={300} m=\"auto\" verticalAlign={\"center\"} position=\"absolute\"\r\n      top=\"50%\"\r\n      left=\"45%\"\r\n      transform=\"translateY(-50%, -50%)\">\r\n        {requireAuth && (\r\n          <Alert status=\"warning\" mb={2}>\r\n            <AlertIcon />\r\n            {requireAuth}\r\n          </Alert>\r\n        )}\r\n        {error && (\r\n          <Alert status=\"error\" mb={2}>\r\n            <AlertIcon />\r\n            {error}\r\n          </Alert>\r\n        )}\r\n        <form onSubmit={this.handleSubmit}>\r\n          <Stack spacing={3}>\r\n            <FormControl>\r\n              <Input\r\n                value={username}\r\n                onChange={(e) => this.setState({ username: e.target.value })}\r\n                id=\"username-input\"\r\n                variant=\"filled\"\r\n                type=\"text\"\r\n                placeholder=\"username\"\r\n                size=\"md\"\r\n                isRequired\r\n              />\r\n            </FormControl>\r\n            <FormControl>\r\n              <Input\r\n                value={password}\r\n                onChange={(e) => this.setState({ password: e.target.value })}\r\n                id=\"password-input\"\r\n                variant=\"filled\"\r\n                type=\"password\"\r\n                placeholder=\"password\"\r\n                size=\"md\"\r\n                isRequired\r\n              />\r\n            </FormControl>\r\n            <Button type=\"submit\" isLoading={isLoading || null}>\r\n              Login\r\n            </Button>\r\n          </Stack>\r\n        </form>\r\n      </Box>\r\n    );\r\n  }\r\n}\r\n\r\nconst { loadingSelector, errorSelector } = createLoadingAndErrorSelector(\r\n  ['LOGIN'],\r\n  false\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoading: loadingSelector(state),\r\n  error: errorSelector(state),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  startLogin: (username, password) => dispatch(startLogin(username, password)),\r\n});\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(LoginPage)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}