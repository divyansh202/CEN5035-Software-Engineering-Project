{"ast":null,"code":"import axios from '../axios-config';\nimport { commentsSelector } from '../selectors';\nexport const setComments = comments => ({\n  type: 'SET_COMMENTS',\n  comments\n});\nexport const updateComment = (id, updates) => ({\n  type: 'UPDATE_COMMENT',\n  id,\n  updates\n});\nexport const deleteComment = id => ({\n  type: 'DELETE_COMMENT',\n  id\n});\nexport const submitComment = commentDetails => async (dispatch, getState) => {\n  try {\n    const {\n      body,\n      post_id,\n      parent_comment_id\n    } = commentDetails;\n    dispatch({\n      type: 'SUBMIT_COMMENT_REQUEST'\n    });\n    const response = await axios.post('/comments', {\n      body,\n      post_id,\n      parent_comment_id\n    });\n    const comments = commentsSelector(getState());\n    dispatch(setComments([response.data].concat(comments)));\n    dispatch({\n      type: 'SUBMIT_COMMENT_SUCCESS'\n    });\n  } catch (e) {\n    dispatch({\n      type: 'SUBMIT_COMMENT_FAILURE',\n      message: e.message,\n      response: e.response\n    });\n  }\n};","map":{"version":3,"sources":["/Users/garvitgupta/Documents/Development/CEN5035-Software-Engineering-Project/frontend/src/actions/comments.js"],"names":["axios","commentsSelector","setComments","comments","type","updateComment","id","updates","deleteComment","submitComment","commentDetails","dispatch","getState","body","post_id","parent_comment_id","response","post","data","concat","e","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AACA,SAASC,gBAAT,QAAiC,cAAjC;AAEA,OAAO,MAAMC,WAAW,GAAIC,QAAD,KAAe;AACxCC,EAAAA,IAAI,EAAE,cADkC;AAExCD,EAAAA;AAFwC,CAAf,CAApB;AAKP,OAAO,MAAME,aAAa,GAAG,CAACC,EAAD,EAAKC,OAAL,MAAkB;AAC7CH,EAAAA,IAAI,EAAE,gBADuC;AAE7CE,EAAAA,EAF6C;AAG7CC,EAAAA;AAH6C,CAAlB,CAAtB;AAMP,OAAO,MAAMC,aAAa,GAAIF,EAAD,KAAS;AACpCF,EAAAA,IAAI,EAAE,gBAD8B;AAEpCE,EAAAA;AAFoC,CAAT,CAAtB;AAKP,OAAO,MAAMG,aAAa,GAAIC,cAAD,IAAoB,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AAC7E,MAAI;AACF,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA,OAAR;AAAiBC,MAAAA;AAAjB,QAAuCL,cAA7C;AACAC,IAAAA,QAAQ,CAAC;AAAEP,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACA,UAAMY,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,IAAN,CAAW,WAAX,EAAwB;AAC7CJ,MAAAA,IAD6C;AAE7CC,MAAAA,OAF6C;AAG7CC,MAAAA;AAH6C,KAAxB,CAAvB;AAKA,UAAMZ,QAAQ,GAAGF,gBAAgB,CAACW,QAAQ,EAAT,CAAjC;AACAD,IAAAA,QAAQ,CAACT,WAAW,CAAC,CAACc,QAAQ,CAACE,IAAV,EAAgBC,MAAhB,CAAuBhB,QAAvB,CAAD,CAAZ,CAAR;AACAQ,IAAAA,QAAQ,CAAC;AAAEP,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACD,GAXD,CAWE,OAAOgB,CAAP,EAAU;AACVT,IAAAA,QAAQ,CAAC;AACPP,MAAAA,IAAI,EAAE,wBADC;AAEPiB,MAAAA,OAAO,EAAED,CAAC,CAACC,OAFJ;AAGPL,MAAAA,QAAQ,EAAEI,CAAC,CAACJ;AAHL,KAAD,CAAR;AAKD;AACF,CAnBM","sourcesContent":["import axios from '../axios-config';\r\nimport { commentsSelector } from '../selectors';\r\n\r\nexport const setComments = (comments) => ({\r\n  type: 'SET_COMMENTS',\r\n  comments,\r\n});\r\n\r\nexport const updateComment = (id, updates) => ({\r\n  type: 'UPDATE_COMMENT',\r\n  id,\r\n  updates,\r\n});\r\n\r\nexport const deleteComment = (id) => ({\r\n  type: 'DELETE_COMMENT',\r\n  id,\r\n});\r\n\r\nexport const submitComment = (commentDetails) => async (dispatch, getState) => {\r\n  try {\r\n    const { body, post_id, parent_comment_id } = commentDetails;\r\n    dispatch({ type: 'SUBMIT_COMMENT_REQUEST' });\r\n    const response = await axios.post('/comments', {\r\n      body,\r\n      post_id,\r\n      parent_comment_id,\r\n    });\r\n    const comments = commentsSelector(getState());\r\n    dispatch(setComments([response.data].concat(comments)));\r\n    dispatch({ type: 'SUBMIT_COMMENT_SUCCESS' });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: 'SUBMIT_COMMENT_FAILURE',\r\n      message: e.message,\r\n      response: e.response,\r\n    });\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}