{"ast":null,"code":"var _jsxFileName = \"/Users/garvitgupta/Documents/Development/CEN5035-Software-Engineering-Project/frontend/src/components/CommentsThread.js\";\nimport { Component } from 'react';\nimport { Box, Flex, Button } from '@chakra-ui/react';\nimport Comment from './Comment';\nimport ThemedBox from './ThemedBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CommentsThread extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggleShowReplies = idx => {\n      const showReplies = this.state.showReplies.slice();\n      showReplies[idx] = !showReplies[idx];\n      this.setState({\n        showReplies\n      });\n    };\n\n    this.state = {\n      showReplies: this.props.comments.map(() => true)\n    };\n  }\n\n  render() {\n    const {\n      showReplies\n    } = this.state;\n    const {\n      comments\n    } = this.props;\n    const commentsToDisplay = comments.map((_ref, idx) => {\n      let {\n        id,\n        body,\n        post_id,\n        created_at,\n        author_name,\n        votes,\n        has_voted,\n        children\n      } = _ref;\n      return /*#__PURE__*/_jsxDEV(Box, {\n        mt: 4,\n        children: [/*#__PURE__*/_jsxDEV(Comment, {\n          id: id,\n          my: 2,\n          body: body,\n          postId: post_id,\n          createdAt: created_at,\n          author: author_name,\n          numVotes: votes,\n          hasVoted: has_voted\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), children.length > 0 && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"link\",\n          onClick: () => this.toggleShowReplies(idx),\n          children: showReplies[idx] ? 'Hide replies' : `Show ${children.length} ${children.length > 1 ? 'replies' : 'reply'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), showReplies[idx] && /*#__PURE__*/_jsxDEV(Flex, {\n          direction: \"row\",\n          children: [children.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            alignSelf: \"stretch\",\n            p: 2,\n            role: \"group\",\n            _hover: {\n              cursor: 'pointer'\n            },\n            onClick: () => this.toggleShowReplies(idx),\n            children: /*#__PURE__*/_jsxDEV(ThemedBox, {\n              w: 1,\n              h: \"100%\",\n              _groupHover: {\n                backgroundColor: 'orange.400'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            flexGrow: 1,\n            ml: 4,\n            children: /*#__PURE__*/_jsxDEV(CommentsThread, {\n              comments: children.filter(_ref2 => {\n                let {\n                  body,\n                  children\n                } = _ref2;\n                return body !== null || children.length > 0;\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)]\n      }, `${body}-${idx}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this);\n    });\n    return commentsToDisplay;\n  }\n\n}\n\nexport default CommentsThread;","map":{"version":3,"sources":["/Users/garvitgupta/Documents/Development/CEN5035-Software-Engineering-Project/frontend/src/components/CommentsThread.js"],"names":["Component","Box","Flex","Button","Comment","ThemedBox","CommentsThread","constructor","props","toggleShowReplies","idx","showReplies","state","slice","setState","comments","map","render","commentsToDisplay","id","body","post_id","created_at","author_name","votes","has_voted","children","length","cursor","backgroundColor","filter"],"mappings":"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","sourcesContent":["import { Component } from 'react';\r\nimport { Box, Flex, Button } from '@chakra-ui/react';\r\nimport Comment from './Comment';\r\nimport ThemedBox from './ThemedBox';\r\n\r\nclass CommentsThread extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showReplies: this.props.comments.map(() => true),\r\n    };\r\n  }\r\n\r\n  toggleShowReplies = (idx) => {\r\n    const showReplies = this.state.showReplies.slice();\r\n    showReplies[idx] = !showReplies[idx];\r\n    this.setState({ showReplies });\r\n  }\r\n    \r\n\r\n  render() {\r\n    const { showReplies } = this.state;\r\n    const { comments } = this.props;\r\n    const commentsToDisplay = comments.map(\r\n      (\r\n        {\r\n          id,\r\n          body,\r\n          post_id,\r\n          created_at,\r\n          author_name,\r\n          votes,\r\n          has_voted,\r\n          children,\r\n        },\r\n        idx\r\n      ) => (\r\n        <Box key={`${body}-${idx}`} mt={4}>\r\n          <Comment\r\n            id={id}\r\n            my={2}\r\n            body={body}\r\n            postId={post_id}\r\n            createdAt={created_at}\r\n            author={author_name}\r\n            numVotes={votes}\r\n            hasVoted={has_voted}\r\n          />\r\n          {children.length > 0 && (\r\n            <Button variant=\"link\" onClick={() => this.toggleShowReplies(idx)}>\r\n              {showReplies[idx]\r\n                ? 'Hide replies'\r\n                : `Show ${children.length} ${\r\n                    children.length > 1 ? 'replies' : 'reply'\r\n                  }`}\r\n            </Button>\r\n          )}\r\n          {showReplies[idx] && (\r\n            <Flex direction=\"row\">\r\n              {children.length > 0 && (\r\n                <Box\r\n                  alignSelf=\"stretch\"\r\n                  p={2}\r\n                  role=\"group\"\r\n                  _hover={{ cursor: 'pointer' }}\r\n                  onClick={() => this.toggleShowReplies(idx)}\r\n                >\r\n                  <ThemedBox\r\n                    w={1}\r\n                    h=\"100%\"\r\n                    _groupHover={{ backgroundColor: 'orange.400' }}\r\n                  />\r\n                </Box>\r\n              )}\r\n              <Box flexGrow={1} ml={4}>\r\n                <CommentsThread\r\n                  comments={children.filter(\r\n                    ({ body, children }) => body !== null || children.length > 0\r\n                  )}\r\n                />\r\n              </Box>\r\n            </Flex>\r\n          )}\r\n        </Box>\r\n      )\r\n    );\r\n    return commentsToDisplay;\r\n  }\r\n}\r\n\r\nexport default CommentsThread;\r\n"]},"metadata":{},"sourceType":"module"}